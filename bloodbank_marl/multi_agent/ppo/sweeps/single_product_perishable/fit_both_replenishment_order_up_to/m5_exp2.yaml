program: ../run_ppo.py
method: bayes
metric:
  name: eval/return_mean
  goal: maximize

parameters:
  # Replenishment
  training.replenishment.update_epochs:
    distribution: categorical
    values:
      - 2
      - 4
      - 8
      - 16
  training.replenishment.lr:
    distribution: log_uniform_values
    min: 5e-6
    max: 1e-2
  training.replenishment.gamma:
    distribution: uniform
    min: 0.7
    max: 0.99
  training.replenishment.gae_lambda:
    distribution: uniform
    min: 0.7
    max: 0.99
  training.replenishment.clip_eps:
    distribution: uniform
    min: 0.05
    max: 0.5
  training.replenishment.ent_coef:
    distribution: log_uniform_values
    min: 0.0001
    max: 0.05
  training.replenishment.vf_coef:
    distribution: uniform
    min: 0.1
    max: 1.0
  training.replenishment.max_grad_norm:
    distribution: uniform
    min: 0.05
    max: 1.0
  # Issuing
  training.issuing.update_epochs:
    distribution: categorical
    values:
      - 2
      - 4
      - 8
      - 16
  training.issuing.lr:
    distribution: log_uniform_values
    min: 5e-6
    max: 1e-2
  training.issuing.gamma:
    distribution: uniform
    min: 0.7
    max: 0.99
  training.issuing.gae_lambda:
    distribution: uniform
    min: 0.7
    max: 0.99
  training.issuing.clip_eps:
    distribution: uniform
    min: 0.05
    max: 0.5
  training.issuing.ent_coef:
    distribution: log_uniform_values
    min: 0.0001
    max: 0.05
  training.issuing.vf_coef:
    distribution: uniform
    min: 0.1
    max: 1.0
  training.issuing.max_grad_norm:
    distribution: uniform
    min: 0.05
    max: 1.0


command:
  - ${env}
  - ${interpreter}
  - ${program}
  - ${args_no_hyphens}
  - +experiment=single_product_perishable/m5/exp2/fit_both_replenishment_order_up_to
